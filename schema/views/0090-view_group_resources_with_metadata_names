/*
** Combine the resource information from csv2_group_resources and cloud_limits, setting defaults for missing values.
*/
create or replace view view_group_resources_with_metadata_names as

select

vgr.*,
group_concat(metadata_name) as metadata_names

from view_group_resources as vgr
left outer join cloud_limits as cl on vgr.group_name=cl.group_name and vgr.cloud_name=cl.cloud_name
left outer join csv2_group_resource_metadata as cgrm on vgr.group_name=cgrm.group_name and vgr.cloud_name=cgrm.cloud_name

group by vgr.group_name,vgr.cloud_name

order by vgr.group_name,vgr.cloud_name

;
