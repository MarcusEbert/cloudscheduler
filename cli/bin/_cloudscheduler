_cloudscheduler() 
{
    local cur prev objects actions
    COMPREPLY=()
    cur="${COMP_WORDS[COMP_CWORD]}"
    prev="${COMP_WORDS[COMP_CWORD-1]}"

    #
    #  The basic options we'll complete.
    #
    objects="cloud defaults group job user vm"


    #
    #  Complete the actions for the objects.
    #
    case "${prev}" in
        cloud)
            actions="add delete list status update yaml-delete yaml-edit yaml-list yaml-load yaml-update"
            COMPREPLY=( $(compgen -W "${actions}" -- ${cur}) )
            return 0
            ;;
        defaults)
            actions="delete list set"
            COMPREPLY=( $(compgen -W "${actions}" -- ${cur}) )
            return 0
            ;;
        group)
            actions="add defaults delete list update yaml-delete yaml-edit yaml-list yaml-load yaml-update"
            COMPREPLY=( $(compgen -W "${actions}" -- ${cur}) )
            return 0
            ;;
        job)
            actions="list"
            COMPREPLY=( $(compgen -W "${actions}" -- ${cur}) )
            return 0
            ;;
        user)
            actions="add delete group-add group-delete list update"
            COMPREPLY=( $(compgen -W "${actions}" -- ${cur}) )
            return 0
            ;;
        vm)
            actions="list"
            COMPREPLY=( $(compgen -W "${actions}" -- ${cur}) )
            return 0
            ;;
        *)
        ;;
    esac

   COMPREPLY=($(compgen -W "${objects}" -- ${cur}))  
   return 0
}
complete -F _cloudscheduler cloudscheduler
